# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: Silly AI Model Testing
prompts:
  - 'Please answer: {{prompt}}'

providers:
  - id: openai:o3-mini
    config:
      reasoning_effort: 'medium'
      max_completion_tokens: 2000

  - id: openai:gpt-4o-mini
    config:
      temperature: 0.1
defaultTest:
  options:
    provider:
      id: openai:o3-mini
      config:
        reasoning_effort: 'medium'
        max_completion_tokens: 2000
tests:
  - description: Test with 0 model-graded metrics
    vars:
      prompt: 'Write a haiku about dancing pickles.'
    assert:
      - type: contains
        value: 'pickle'

  - description: Test with 1 model-graded metric
    vars:
      prompt: 'Explain why unicorns make better pets than dragons.'
    assert:
      - type: llm-rubric
        value: 'Does the response mention at least 3 ridiculous advantages of unicorn ownership?'

  - description: Test with 2 model-graded metrics
    vars:
      prompt: 'Write a short story where a toaster falls in love with a refrigerator.'
    assert:
      - type: llm-rubric
        value: 'Does the story have a dramatic kitchen appliance romance with emotional depth?'
      - type: llm-rubric
        value: 'Is the writing style appropriately melodramatic for kitchen appliance love?'
        provider: openai:o3-mini

# Azure OpenAI Responses API Test Template
# Replace the placeholder values with your actual Azure configuration

description: Azure OpenAI Responses API Test

prompts:
  - 'Extract event information from this text: "The {{event_type}} will be held on {{date}} at {{location}} with {{participants}} attending."'

providers:
  - id: azure:responses:gpt-4o-mini
    config:
      # Replace with your Azure OpenAI resource hostname
      apiHost: 'your-resource.openai.azure.com'
      # Replace with your Azure OpenAI API key
      apiKey: 'your-actual-api-key'
      # Optional: specify API version
      apiVersion: '2024-12-01-preview'

      # Test external file loading (the key feature we fixed)
      temperature: 0
      max_output_tokens: 500
      response_format: file://examples/openai-responses/response_format.json

tests:
  - vars:
      event_type: Azure AI Conference
      date: December 15th, 2025
      location: Seattle Convention Center
      participants: cloud architects and AI engineers
    assert:
      - type: is-json
      - type: json-schema
        value: file://examples/openai-responses/response_format.json
      - type: contains
        value: 'Azure AI Conference'
# Instructions:
# 1. Replace "your-resource.openai.azure.com" with your actual Azure resource hostname
# 2. Replace "your-actual-api-key" with your actual Azure API key
# 3. Run: npm run local -- eval -c azure-test-template.yaml --no-cache

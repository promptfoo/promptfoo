# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: 'Smoke test - AND combinator'

providers:
  - echo

prompts:
  - 'Hello Paris World'

tests:
  # AND passes when all assertions pass
  - assert:
      - type: and
        assert:
          - type: contains
            value: 'Hello'
          - type: contains
            value: 'World'

  # AND fails when any assertion fails
  # NOTE: This test INTENTIONALLY FAILS to verify combinator behavior.
  # The smoke test expects this to fail and checks for exit code 100.
  - description: 'Intentional failure - AND with non-matching value'
    assert:
      - type: and
        assert:
          - type: contains
            value: 'Hello'
          - type: contains
            value: 'London'

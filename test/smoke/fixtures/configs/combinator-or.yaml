# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: 'Smoke test - OR combinator'

providers:
  - echo

prompts:
  - 'Hello Paris World'

tests:
  # OR passes when first assertion passes
  - assert:
      - type: or
        assert:
          - type: contains
            value: 'Paris'
          - type: contains
            value: 'London'

  # OR passes when second assertion passes
  - assert:
      - type: or
        assert:
          - type: contains
            value: 'London'
          - type: contains
            value: 'World'

  # OR fails when all assertions fail
  # NOTE: This test INTENTIONALLY FAILS to verify combinator behavior.
  # The smoke test expects this to fail and checks for exit code 100.
  - description: 'Intentional failure - OR with no matching values'
    assert:
      - type: or
        assert:
          - type: contains
            value: 'London'
          - type: contains
            value: 'Berlin'

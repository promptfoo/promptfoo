# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: 'Luma Ray 2 Video Generation on AWS Bedrock'

# Luma Ray 2 produces high-quality videos from text prompts.
# Videos are generated asynchronously and stored in S3.
#
# Prerequisites:
#   1. Enable Luma Ray 2 model access in AWS Bedrock console
#   2. Create an S3 bucket for video output
#   3. Configure IAM permissions for bedrock:StartAsyncInvoke,
#      bedrock:GetAsyncInvoke, s3:PutObject, s3:GetObject
#
# Update s3OutputUri below to point to your S3 bucket.

providers:
  - id: bedrock:video:luma.ray-v2:0
    config:
      region: us-west-2 # Luma Ray 2 is currently only available in us-west-2
      s3OutputUri: s3://your-bucket-name/luma-ray-outputs/
      duration: '5s'
      resolution: '720p'
      aspectRatio: '16:9'

prompts:
  # Promptfoo red panda mascot themed prompts
  - 'A cute red panda wearing glasses typing on a glowing laptop in a cozy tech office, soft purple and teal lighting, modern tech aesthetic, the red panda looks focused and intelligent'
  - 'An adorable red panda in a lab coat examining holographic data visualizations, futuristic tech environment with orange and purple accent lights, cinematic lighting'
  - 'A friendly red panda mascot waving at the camera in front of a wall of code and security shields, modern office setting, warm lighting, professional but approachable style'

tests:
  - vars: {}
    assert:
      - type: contains
        value: 'Video:' # Output format is [Video: prompt](url)
      - type: not-contains
        value: 'error' # No errors in output

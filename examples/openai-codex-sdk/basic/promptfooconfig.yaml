# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: 'Simple code generation with Codex SDK'

prompts:
  - 'Write a Python function that calculates the factorial of a number. Output only the code.'

providers:
  # gpt-5.2-codex is the default model as of SDK v0.81.0
  - id: openai:codex-sdk
    config:
      model: gpt-5.2-codex
      # Reasoning effort can be: 'none', 'minimal', 'low', 'medium', 'high', 'xhigh'
      # Note: gpt-5.1-codex only supports 'low', 'medium', 'high'
      model_reasoning_effort: high

tests:
  - vars: {}
    assert:
      - type: contains
        value: 'def factorial'
      - type: llm-rubric
        value: 'Should generate working Python code for factorial calculation'

# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: Python session management

prompts:
  - file://prompts.txt

providers:
  - id: file://python/session_provider.py:call_api
    label: Python Session Provider

extensions:
  - file://python/session_hooks.py:session_hook

tests:
  - vars:
      query: "What is the capital of France?"
    assert:
      - type: contains
        value: "Session has"
      - type: contains
        value: "request #1"

  - vars:
      query: "Tell me an interesting fact about Paris"
    assert:
      - type: contains
        value: "Session has 1 prior exchanges"
      - type: contains
        value: "request #2"

  - vars:
      query: "What did we just discuss?"
    assert:
      - type: contains-any
        value:
          - "Session has 2 prior exchanges"
          - "request #3"
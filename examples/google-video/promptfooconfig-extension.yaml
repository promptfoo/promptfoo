# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: Google Veo video extension (Veo 3.1 only)

prompts:
  - 'Continue this video: {{continuation}}'

providers:
  - id: google:video:veo-3.1-generate-preview
    config:
      # Use the operation ID from a previous Veo video generation
      # This is returned in metadata.operationName of the generation response
      extendVideoId: projects/YOUR_PROJECT/locations/us-central1/publishers/google/models/veo-3.1-generate-preview/operations/YOUR_OPERATION_ID
      durationSeconds: 6 # Valid: 4, 6, 8 for Veo 3.x

tests:
  - vars:
      continuation: The camera pans to reveal a beautiful sunset on the horizon
    assert:
      - type: is-valid-video
  - vars:
      continuation: The scene transitions smoothly to a night sky with stars appearing
    assert:
      - type: is-valid-video

# Note: Video extension requires an operation ID from a previous Veo generation.
# To use this:
# 1. First generate a video using promptfooconfig.yaml
# 2. Get the operation ID from the results (metadata.operationName field)
# 3. Replace YOUR_PROJECT and YOUR_OPERATION_ID above with your values

# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: Simple echo provider example

# The prompt template - just passes through the input variable
prompts:
  - '{{input}}'

# Echo provider returns exactly what it receives
providers:
  - echo

# Example test cases showing different assertion types
tests:
  # Test 1: Exact match assertion
  - description: 'Test exact match'
    vars:
      input: 'Hello, World!'
    assert:
      - type: equals
        value: 'Hello, World!'

  # Test 2: Contains assertion
  - description: 'Test contains substring'
    vars:
      input: 'The quick brown fox'
    assert:
      - type: contains
        value: 'quick'

  # Test 3: Case-insensitive contains
  - description: 'Test case-insensitive contains'
    vars:
      input: 'HELLO WORLD'
    assert:
      - type: icontains
        value: 'hello'

  # Test 4: Regular expression matching
  - description: 'Test regex pattern'
    vars:
      input: 'user@example.com'
    assert:
      - type: regex
        value: "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"

  # Test 5: JavaScript assertion
  - description: 'Test with JavaScript'
    vars:
      input: 'testing123'
    assert:
      - type: javascript
        value: 'output.length === 10'

  # Test 6: Python assertion
  - description: 'Test with Python'
    vars:
      input: 'UPPERCASE'
    assert:
      - type: python
        value: 'output.isupper()'

  # Test 7: JSON validation
  - description: 'Test JSON format'
    vars:
      input: '{"key": "value", "number": 42}'
    assert:
      - type: is-json

  # Test 8: Multiple assertions
  - description: 'Test with multiple assertions'
    vars:
      input: 'Test Message 123'
    assert:
      - type: contains
        value: 'Test'
      - type: javascript
        value: 'output.length > 10'
      - type: regex
        value: "\\d+" # Contains digits

# Optional: Save results to CSV
outputPath: file://simple-output.csv

# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: Basic Azure OpenAI Assistant with File Search Tool

# Environment variables needed
env:
  AZURE_API_KEY: $AZURE_API_KEY

prompts:
  - '{{prompt}}'

providers:
  - id: azure:assistant:asst_basic
    label: azure-assistant-basic
    config:
      apiHost: promptfoo.openai.azure.com
      # Define a simple file search tool
      tools:
        - type: "file_search"
          description: "Search through promptfoo documentation"
      # Vector store configuration
      tool_resources:
        file_search:
          vector_store_ids:
            - "vs_promptfoo_docs_main"
      # Standard parameters
      temperature: 0.7
      apiVersion: "2024-05-01-preview"
      debug: true

tests:
  # Basic information retrieval tests for file search
  - vars:
      prompt: What is promptfoo and how does it help with evaluating LLMs?
  - vars:
      prompt: Can you search the documentation for information about vector stores?
  - vars:
      prompt: Find any references to file search in the promptfoo documentation.
  - vars:
      prompt: How do I set up a basic evaluation in promptfoo? 
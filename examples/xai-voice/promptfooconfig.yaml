# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: xAI Grok Voice Agent API demonstration

prompts:
  - file://input.json

providers:
  - id: xai:voice:grok-3
    config:
      voice: 'Ara' # Options: Ara, Rex, Sal, Eve, Leo
      instructions: 'You are a helpful voice assistant. Keep your responses concise and informative.'
      modalities: ['text', 'audio']
      websocketTimeout: 60000 # 60 seconds

      # Built-in tools work automatically
      tools:
        - type: web_search

      # For custom endpoints or testing, you can override the WebSocket URL:
      # websocketUrl: 'wss://custom-endpoint.example.com/path?token=xyz'

tests:
  - vars:
      question: 'Hello! What can you help me with today?'
    assert:
      - type: llm-rubric
        value: Responds with a greeting and offers assistance

  - vars:
      question: 'Tell me about the benefits of real-time voice AI.'
    assert:
      - type: llm-rubric
        value: Discusses the benefits of real-time voice AI technology

  - vars:
      question: 'Search the web for the latest AI news.'
    assert:
      - type: llm-rubric
        value: Provides information about recent AI news or developments

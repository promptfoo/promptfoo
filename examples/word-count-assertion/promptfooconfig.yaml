# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: 'Word count assertion examples'

providers:
  - openai:gpt-4o-mini

prompts:
  - 'Summarize the following in exactly {{count}} words: {{text}}'
  - 'Write a {{length}} response about: {{topic}}'

tests:
  # Test 1: Exact word count
  - description: 'Test exact word count (50 words)'
    vars:
      count: 50
      text: 'Artificial intelligence is revolutionizing how we work, live, and interact with technology. From healthcare to transportation, AI systems are becoming increasingly sophisticated and integrated into our daily lives.'
    assert:
      - type: word-count
        value: 50

  # Test 2: Word count range
  - description: 'Test word count range (20-30 words)'
    vars:
      length: 'brief'
      topic: 'climate change'
    assert:
      - type: word-count
        value:
          min: 20
          max: 30

  # Test 3: Minimum word count
  - description: 'Test minimum word count (at least 100 words)'
    vars:
      length: 'detailed'
      topic: 'machine learning'
    assert:
      - type: word-count
        value:
          min: 100

  # Test 4: Maximum word count
  - description: 'Test maximum word count (no more than 20 words)'
    vars:
      length: 'very brief'
      topic: 'quantum computing'
    assert:
      - type: word-count
        value:
          max: 20

  # Test 5: Combining multiple assertions
  - description: 'Test with multiple assertions including word count'
    vars:
      count: 25
      text: 'Promptfoo is a tool for testing and evaluating LLM applications with automated assertions and model comparisons.'
    assert:
      - type: word-count
        value:
          min: 20
          max: 30
      - type: contains
        value: 'Promptfoo'
      - type: is-json
        value: false

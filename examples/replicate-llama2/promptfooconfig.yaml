# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: Replicate Llama model evaluation

prompts:
  - file://prompts.txt

providers:
  # Llama 3 8B Instruct - Fast and cost-effective
  - id: replicate:meta/meta-llama-3-8b-instruct
    config:
      temperature: 0.7
      max_new_tokens: 500
      top_p: 0.9

  # Llama 3 70B Instruct - More capable but slower
  - id: replicate:meta/meta-llama-3-70b-instruct
    config:
      temperature: 0.7
      max_new_tokens: 500
      top_p: 0.9

tests:
  - vars:
      topic: bananas
  - vars:
      topic: poetry
  - vars:
      topic: pirates
  - vars:
      topic: healthy lifestyle
  - vars:
      topic: chimpanzees
  - vars:
      topic: artificial intelligence
    assert:
      - type: contains-any
        value: ['AI', 'machine learning', 'neural', 'algorithm']
  - vars:
      topic: climate change
    assert:
      - type: llm-rubric
        value: discusses environmental concerns

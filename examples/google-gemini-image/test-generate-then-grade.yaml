# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: 'ðŸŽ¯ WORKING DEMO: Gemini Generates Image â†’ Gemini Grades Image'

prompts:
  - 'Generate a professional product photograph of {{product}} on a clean white background, commercial photography style'

providers:
  # Generator: Gemini 2.5 Flash Image (we know this works!)
  - id: google:gemini-2.5-flash-image-preview
    label: 'Gemini 2.5 Flash Image Generator ðŸŽ¨'
    config:
      generationConfig:
        temperature: 0.7
        maxOutputTokens: 1024
        responseModalities:
          - IMAGE
          - TEXT

tests:
  - description: 'ðŸ“± Generate â†’ Grade: Wireless Earbuds'
    vars:
      product: 'wireless earbuds'
    assert:
      - type: contains
        value: '![Generated Image]'
      - type: cost
        threshold: 0.05
      - type: llm-rubric
        value: |
          You are an e-commerce quality reviewer. Rate this generated product image 1-10.
          
          **SCORING CRITERIA:**
          - **8-10**: Professional, ready for e-commerce use
          - **6-7**: Good quality, minor improvements needed  
          - **4-5**: Average, significant improvements required
          - **1-3**: Poor quality, not suitable for business use
          
          **What to evaluate:**
          - Is the product clearly visible and well-lit?
          - Is the background clean and professional?
          - Would this work on an e-commerce website?
          - Does it look professional and trustworthy?
          
          Just give me a score 1-10 and brief reasoning.
        provider: google:gemini-2.5-flash
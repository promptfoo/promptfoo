# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: QuiverAI SVG generation

providers:
  - id: quiverai:arrow-0.5
    config:
      max_tokens: 8192

prompts:
  - file://prompt.json

defaultTest:
  options:
    provider: openai:gpt-4o-mini
    rubricPrompt: |
      Evaluate if this SVG meets the criteria. Be fair - stylized interpretations are fine.
      Output JSON: {"reason": "<brief analysis>", "pass": true|false, "score": 0.0-1.0}

      SVG: {{ output }}
      Criteria: {{ value }}

tests:
  - vars:
      subject: a red heart
    assert:
      - type: is-xml
      - type: llm-rubric
        value: Contains a heart shape in red color
        threshold: 0.5

  - vars:
      subject: a yellow star
    assert:
      - type: is-xml
      - type: llm-rubric
        value: Contains a star shape in yellow/gold color
        threshold: 0.5

  - vars:
      subject: a rocket ship
    assert:
      - type: is-xml
      - type: llm-rubric
        value: Contains a rocket or spaceship shape
        threshold: 0.5

  - vars:
      subject: a red panda face
    assert:
      - type: is-xml
      - type: llm-rubric
        value: Contains a face with red/orange coloring suggestive of a red panda
        threshold: 0.4

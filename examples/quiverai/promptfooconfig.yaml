# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: QuiverAI SVG generation

providers:
  - id: quiverai:chat:arrow-0.5
    config:
      max_tokens: 4096

prompts:
  - file://prompt.json

defaultTest:
  options:
    provider: openai:gpt-4o-mini
    rubricPrompt: |
      Evaluate if this SVG meets the criteria. Be fair - stylized interpretations are fine.
      Output JSON: {"reason": "<brief analysis>", "pass": true|false, "score": 0.0-1.0}

      SVG: {{ output }}
      Criteria: {{ value }}

tests:
  - vars:
      subject: a red heart icon
    assert:
      - type: contains
        value: '<svg'
      - type: contains
        value: '</svg>'

  - vars:
      subject: a yellow 5-pointed star
    assert:
      - type: llm-rubric
        value: Contains a star shape in yellow/gold color
        threshold: 0.5

  - vars:
      subject: a rocket ship with flames
    assert:
      - type: llm-rubric
        value: Contains a rocket shape with exhaust/flames in warm colors
        threshold: 0.4

  - vars:
      subject: a cute red panda face
    assert:
      - type: llm-rubric
        value: Contains a face with red/orange coloring suggestive of a red panda
        threshold: 0.4

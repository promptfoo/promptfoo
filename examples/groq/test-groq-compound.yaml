# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: Compound models with built-in tools

prompts:
  - |
    {{task}}

providers:
  - id: groq:groq/compound
    label: Groq Compound (Full)
    config:
      temperature: 0.7
      max_completion_tokens: 3000

  - id: groq:groq/compound-mini
    label: Groq Compound Mini
    config:
      temperature: 0.7
      max_completion_tokens: 3000

tests:
  # Code execution test
  - description: Calculate Fibonacci numbers with code
    vars:
      task: Calculate the first 10 Fibonacci numbers using code
    assert:
      - type: javascript
        value: output.length > 50

  # Web search test
  - description: Research current information
    vars:
      task: What is the current population of Tokyo?
    assert:
      - type: javascript
        value: output.length > 50

  # Combined calculation and research
  - description: Financial analysis with research and calculation
    vars:
      task: |
        Research the current Bitcoin price and calculate what a $1000 investment
        made 1 year ago would be worth today.
    assert:
      - type: javascript
        value: output.length > 100

  # Mathematical computation
  - description: Complex mathematical calculation
    vars:
      task: Calculate the integral of x^2 from 0 to 10 using code
    assert:
      - type: javascript
        value: output.length > 50

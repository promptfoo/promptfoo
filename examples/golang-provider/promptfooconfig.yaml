# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: Example of using a custom Go provider with internal packages

prompts:
  - Write a tweet about our new AI product
  - Write a blog post about machine learning
  - Write a press release about our Series A funding

providers:
  - id: file://provider.go
    config:
      goExecutable: go # Optional, defaults to 'go'

tests:
  - description: Test Go provider with internal packages
    vars:
      prompt: Write a tweet about our new AI product
    assert:
      - type: contains
        value: AI
      - type: javascript
        value: response.output.length < 280 # Tweet length

  - description: Test Go provider with longer content
    vars:
      prompt: Write a blog post about machine learning
    assert:
      - type: contains
        value: machine learning
      - type: javascript
        value: response.output.length > 500 # Blog post should be substantial

  - description: Test Go provider with formal content
    vars:
      prompt: Write a press release about our Series A funding
    assert:
      - type: contains
        value: funding
      - type: contains
        value: Series A

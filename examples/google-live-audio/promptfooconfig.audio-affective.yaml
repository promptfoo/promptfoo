# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: Google Live Audio - Affective Dialog (Emotion Adaptation)

prompts:
  - file://prompt.yaml

providers:
  # Note: Affective dialog requires apiVersion: 'v1alpha'
  # Affective dialog requires the specific models:
  # gemini-2.5-flash-preview-native-audio-dialog or
  # gemini-2.5-flash-exp-native-audio-thinking-dialog (will show thinking process in the thinking field)
  - id: 'google:live:gemini-2.5-flash-exp-native-audio-thinking-dialog'
    label: 'With Affective Dialog'
    config:
      apiVersion: 'v1alpha'
      generationConfig:
        response_modalities: ['audio']
        enableAffectiveDialog: true
        outputAudioTranscription: {}
      timeoutMs: 30000

  - id: 'google:live:gemini-2.5-flash-exp-native-audio-thinking-dialog'
    label: 'Without Affective Dialog'
    config:
      apiVersion: 'v1alpha'
      generationConfig:
        response_modalities: ['audio']
        outputAudioTranscription: {}
      timeoutMs: 30000

tests:
  - vars:
      question: I looked in the fridge and I found nothing. I think someone ate my sandwich
    assert:
      - type: llm-rubric
        value: Expresses empathy
  - vars:
      question: It's a new dawn, it's a new day, and I'm feeling good.
    assert:
      - type: llm-rubric
        value: Shows positive emotions

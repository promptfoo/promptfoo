# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
description: Azure OpenAI chat and embeddings with fact generation

prompts:
  - 'Generate one very interesting fact about {{topic}}'

providers:
  # GPT-5 - Latest flagship model
  - id: azure:chat:gpt-5
    config:
      apiHost: 'your-org.openai.azure.com'

  # o3-mini - Reasoning model
  - id: azure:chat:o3-mini
    config:
      apiHost: 'your-org.openai.azure.com'
      # Reasoning models use max_completion_tokens instead of max_tokens
      isReasoningModel: true

defaultTest:
  assert:
    - type: latency
      threshold: 3000

tests:
  - vars:
      topic: monkeys
  - vars:
      topic: bananas
    assert:
      - type: similar
        value: Bananas are naturally radioactive.
        provider:
          id: azure:embeddings:text-embedding-3-large
          config:
            apiHost: 'your-org.openai.azure.com'

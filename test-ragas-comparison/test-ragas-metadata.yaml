description: Test RAGAS metrics metadata improvements

providers:
  - id: openai:gpt-4o-mini
    config:
      temperature: 0

prompts:
  - |
    Answer this question based on the context provided.

    Context: {{context}}
    Question: {{query}}

    Answer:

tests:
  - vars:
      query: 'What is the capital of France?'
      context: 'France is a country in Western Europe. Paris is the capital and largest city of France, with a population of over 2 million people in the city proper.'
    assert:
      - type: answer-relevance
        threshold: 0.7
      - type: context-recall
        value: 'Paris is the capital of France'
        threshold: 0.8
      - type: context-relevance
        threshold: 0.8
      - type: context-faithfulness
        threshold: 0.8

  - vars:
      query: 'What is the population of Tokyo?'
      context: 'Tokyo is the capital of Japan. Mount Fuji is the highest mountain in Japan. Sushi is a popular Japanese dish.'
    assert:
      - type: answer-relevance
        threshold: 0.7
      - type: context-relevance
        threshold: 0.3 # Low threshold as context doesn't have population info
      - type: context-faithfulness
        threshold: 0.8

outputPath: test-ragas-metadata-results.json

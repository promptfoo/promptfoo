# Promptfoo test to compare with RAGAS
# Using identical test cases for direct comparison

providers:
  - id: echo

prompts:
  - "{{output}}"

tests:
  # Test Case 1: Simple case with some incorrect information
  - description: "Test Case 1: Capital of France"
    vars:
      query: "What is the capital of France?"
      output: "The capital of France is Paris. Berlin is the capital of Germany."
      context: "Paris is the capital of France. Berlin is the capital of Germany."
      contextChunks:
        - text: "Paris is the capital of France."
          relevant: true
        - text: "Berlin is the capital of Germany."
          relevant: false
    assert:
      - type: noise-sensitivity
        value: "The capital of France is Paris."
        threshold: 1.0  # Set high to see actual score
        config:
          mode: relevant
          contextChunks: "{{contextChunks}}"
      - type: noise-sensitivity
        value: "The capital of France is Paris."
        threshold: 1.0  # Set high to see actual score
        config:
          mode: irrelevant
          contextChunks: "{{contextChunks}}"

  # Test Case 2: Machine learning language
  - description: "Test Case 2: ML Programming Language"
    vars:
      query: "What programming language is best for machine learning?"
      output: "Python is widely used for machine learning. It has libraries like TensorFlow and PyTorch. JavaScript is used for web development."
      context: "Python is the most popular language for machine learning with libraries like TensorFlow and PyTorch. JavaScript is primarily used for web development and frontend programming. Java is used for enterprise applications."
      contextChunks:
        - text: "Python is the most popular language for machine learning with libraries like TensorFlow and PyTorch."
          relevant: true
        - text: "JavaScript is primarily used for web development and frontend programming."
          relevant: false
        - text: "Java is used for enterprise applications."
          relevant: false
    assert:
      - type: noise-sensitivity
        value: "Python is widely used for machine learning due to its extensive libraries like TensorFlow, PyTorch, and scikit-learn."
        threshold: 1.0
        config:
          mode: relevant
          contextChunks: "{{contextChunks}}"
      - type: noise-sensitivity
        value: "Python is widely used for machine learning due to its extensive libraries like TensorFlow, PyTorch, and scikit-learn."
        threshold: 1.0
        config:
          mode: irrelevant
          contextChunks: "{{contextChunks}}"